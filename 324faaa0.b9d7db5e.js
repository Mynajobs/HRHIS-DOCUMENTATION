(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{72:function(e,n,a){"use strict";a.r(n),a.d(n,"frontMatter",(function(){return d})),a.d(n,"metadata",(function(){return o})),a.d(n,"toc",(function(){return i})),a.d(n,"default",(function(){return s}));var r=a(3),t=a(7),c=(a(0),a(88)),d={id:"records",title:"Records Module",sidebar_label:"Records"},o={unversionedId:"records",id:"records",isDocsHomePage:!1,title:"Records Module",description:"Record Duplicates and Merging API",source:"@site/docs/records.md",slug:"/records",permalink:"/hris-api-docs/docs/records",editUrl:"https://github.com/hisptz/hris-api-docs/blob/master/docs/docs/records.md",version:"current",sidebar_label:"Records",sidebar:"menuSidebar",previous:{title:"OrganisationUnits Module",permalink:"/hris-api-docs/docs/"}},i=[{value:"Record Duplicates and Merging API",id:"record-duplicates-and-merging-api",children:[]},{value:"Get Duplicate Records.",id:"get-duplicate-records",children:[]},{value:"Merging Duplicates",id:"merging-duplicates",children:[{value:"Scenario One || Based on Records",id:"scenario-one--based-on-records",children:[]},{value:"Scenario One || Based on Selected Fields",id:"scenario-one--based-on-selected-fields",children:[]}]}],l={toc:i};function s(e){var n=e.components,a=Object(t.a)(e,["components"]);return Object(c.b)("wrapper",Object(r.a)({},l,a,{components:n,mdxType:"MDXLayout"}),Object(c.b)("h3",{id:"record-duplicates-and-merging-api"},"Record Duplicates and Merging API"),Object(c.b)("h2",{id:"get-duplicate-records"},"Get Duplicate Records."),Object(c.b)("p",null,Object(c.b)("inlineCode",{parentName:"p"},"Endpoint")),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-JS"},"/api/records/duplicates/hshD7171OpG\n")),Object(c.b)("blockquote",null,Object(c.b)("p",{parentName:"blockquote"},"Where ",Object(c.b)("inlineCode",{parentName:"p"},"hshD7171OpG")," is the form id.")),Object(c.b)("p",null,Object(c.b)("inlineCode",{parentName:"p"},"Method:")," GET"),Object(c.b)("p",null,Object(c.b)("inlineCode",{parentName:"p"},"Payload")),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-JSON"},' {\n  "message": "Duplicate Records",\n  "records": [\n      {\n      "field": "5289e93499515",\n      "name": "Check Number",\n      "duplicates": [\n        {\n          "id": "558a700e04a56",\n          "recordValues": [\n             {\n              "field": "5289e93496216",\n              "value": "form four"\n            },\n            {\n              "field": "5289e9349dde1",\n              "value": "jdjjd"\n            },\n          ]\n        },\n        {\n          "id": "5c9415cce9fcd",\n          "recordValues": [\n           {\n              "field": "5289e9349dde1",\n              "value": "jdjjd"\n            },\n            {\n              "field": "5289e9349f037",\n              "value": "ndnndf"\n            },\n            {\n              "field": "5289e934a027b",\n              "value": "nam"\n            }\n          ]\n        }\n      ]\n    }\n  ]\n }\n')),Object(c.b)("p",null,Object(c.b)("inlineCode",{parentName:"p"},"Payload Description")),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},"The payload contains an array of Records and inside, objects. Each object contains a random character string value with key field which indicates the unique field used to get duplicates."),Object(c.b)("li",{parentName:"ul"},"The same object contains another object with properties of id and recordValues, these indicate the record id and it's associated values respectively.")),Object(c.b)("h2",{id:"merging-duplicates"},"Merging Duplicates"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},"Duplicates can be merged by two scenarios.")),Object(c.b)("p",null,Object(c.b)("inlineCode",{parentName:"p"},"Endpoint")),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-JS"},"/api/records/merge\n")),Object(c.b)("p",null,Object(c.b)("inlineCode",{parentName:"p"},"Method:")," POST"),Object(c.b)("h3",{id:"scenario-one--based-on-records"},"Scenario One || Based on Records"),Object(c.b)("p",null,Object(c.b)("inlineCode",{parentName:"p"},"Payload")),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-JSON"},'{\n  "keep": "wuWlL5gTuzUf4",\n  "remove":["yxd7nZx3dExX9","ephzmm10i8Olc"]\n}\n')),Object(c.b)("blockquote",null,Object(c.b)("p",{parentName:"blockquote"},"Where ",Object(c.b)("inlineCode",{parentName:"p"},"keep")," represents the recordid to keep and ",Object(c.b)("inlineCode",{parentName:"p"},"remove")," represents an array of record ids to delete")),Object(c.b)("h3",{id:"scenario-one--based-on-selected-fields"},"Scenario One || Based on Selected Fields"),Object(c.b)("p",null,Object(c.b)("inlineCode",{parentName:"p"},"Payload")),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-JSON"},'{\n  "organisationUnit":"XJpzOmbg7LuL6",\n  "form": "iJUMeqloMjmDq",\n  "recordValues": [\n      {"id": "jJBwwcYa1kBzQ"},\n      {"id": "fEbTGVMKVLUTU"},\n      {"id": "nlG8zObKlkMcx"}\n      ],\n  "remove":["yxd7nZx3dExX9","ephzmm10i8Olc"]\n}\n')),Object(c.b)("blockquote",null,Object(c.b)("p",{parentName:"blockquote"},"Where organisationUnit represents and form represents the parameters of the new record to create ",Object(c.b)("inlineCode",{parentName:"p"},"recordValues")," represents an array of all recordvalue ids for all fields to create a new record and ",Object(c.b)("inlineCode",{parentName:"p"},"remove")," represents an array of record ids to delete")))}s.isMDXComponent=!0}}]);
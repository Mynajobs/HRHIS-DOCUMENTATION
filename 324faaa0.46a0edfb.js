(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{72:function(e,n,a){"use strict";a.r(n),a.d(n,"frontMatter",(function(){return d})),a.d(n,"metadata",(function(){return c})),a.d(n,"toc",(function(){return o})),a.d(n,"default",(function(){return s}));var r=a(3),t=a(7),i=(a(0),a(88)),d={id:"records",title:"Records Module",sidebar_label:"Records"},c={unversionedId:"records",id:"records",isDocsHomePage:!1,title:"Records Module",description:"Record Duplicates and Merging API",source:"@site/docs/records.md",slug:"/records",permalink:"/hris-api-docs/docs/records",editUrl:"https://github.com/hisptz/hris-api-docs/blob/main/docs/records.md",version:"current",sidebar_label:"Records",sidebar:"menuSidebar",previous:{title:"OrganisationUnits Module",permalink:"/hris-api-docs/docs/"}},o=[{value:"Record Duplicates and Merging API",id:"record-duplicates-and-merging-api",children:[]},{value:"Get Duplicate Records.",id:"get-duplicate-records",children:[]},{value:"Merging Duplicates",id:"merging-duplicates",children:[{value:"Scenario One || Based on Records",id:"scenario-one--based-on-records",children:[]},{value:"Scenario One || Based on Selected Fields",id:"scenario-one--based-on-selected-fields",children:[]}]}],l={toc:o};function s(e){var n=e.components,a=Object(t.a)(e,["components"]);return Object(i.b)("wrapper",Object(r.a)({},l,a,{components:n,mdxType:"MDXLayout"}),Object(i.b)("h3",{id:"record-duplicates-and-merging-api"},"Record Duplicates and Merging API"),Object(i.b)("h2",{id:"get-duplicate-records"},"Get Duplicate Records."),Object(i.b)("p",null,Object(i.b)("inlineCode",{parentName:"p"},"Endpoint")),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-JS"},"/api/records/duplicates/hshD7171OpG\n")),Object(i.b)("blockquote",null,Object(i.b)("p",{parentName:"blockquote"},"Where ",Object(i.b)("inlineCode",{parentName:"p"},"hshD7171OpG")," is the form id.")),Object(i.b)("p",null,Object(i.b)("inlineCode",{parentName:"p"},"Method:")," GET"),Object(i.b)("p",null,Object(i.b)("inlineCode",{parentName:"p"},"Payload")),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-JSON"},' {\n  "message": "Duplicate Records",\n  "records": [\n      {\n      "field": "b2fkEQgzJdbhF",\n      "name": "Check Number",\n      "duplicates": [\n        {\n          "id": "BPlMPfo553ch5",\n          "recordValues": [\n             {\n               "id": "nuDEzu4NBeL2Z",\n              "field": "iKJDfOQmtw2qp",\n              "value": "form four"\n            },\n            {\n              "id": "eTnrhDx2E45EG",\n              "field": "lJNeQk2bTNQl5",\n              "value": "jdjjd"\n            },\n          ],\n          "organisationunit": "zRgNXkU7Yef6L"\n        },\n        {\n          "id": "SspS99jTdRbn8",\n          "recordValues": [\n           {\n             "id":"kmfZvkYLiOWVu",\n              "field": "nTw32YiWJtwhl",\n              "value": "jdjjd"\n            },\n            {\n              "id":"ezFEgOAnPWNvs",\n              "field": "tRPYrDlb1n79w",\n              "value": "ndnndf"\n            },\n            {\n              "id":"E7NeVciipvtMv",\n              "field": "lWDS8Rwg70G9I",\n              "value": "nam"\n            }\n          ],\n          "organisationunit": "PXXhx3rjw6ebx"\n        }\n      ]\n    }\n  ]\n }\n')),Object(i.b)("p",null,Object(i.b)("inlineCode",{parentName:"p"},"Payload Description")),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"The payload contains an array of Records and inside, objects. Each object contains a random character string value with key field which indicates the unique field used to get duplicates."),Object(i.b)("li",{parentName:"ul"},"The same object contains another object with properties of id and recordValues, these indicate the record id and it's associated values respectively.")),Object(i.b)("h2",{id:"merging-duplicates"},"Merging Duplicates"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"Duplicates can be merged by two scenarios.")),Object(i.b)("p",null,Object(i.b)("inlineCode",{parentName:"p"},"Endpoint")),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-JS"},"/api/records/merge\n")),Object(i.b)("p",null,Object(i.b)("inlineCode",{parentName:"p"},"Method:")," POST"),Object(i.b)("h3",{id:"scenario-one--based-on-records"},"Scenario One || Based on Records"),Object(i.b)("p",null,Object(i.b)("inlineCode",{parentName:"p"},"Payload")),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-JSON"},'{\n  "keep": "wuWlL5gTuzUf4",\n  "remove":["yxd7nZx3dExX9","ephzmm10i8Olc"]\n}\n')),Object(i.b)("blockquote",null,Object(i.b)("p",{parentName:"blockquote"},"Where ",Object(i.b)("inlineCode",{parentName:"p"},"keep")," represents the recordid to keep and ",Object(i.b)("inlineCode",{parentName:"p"},"remove")," represents an array of record ids to delete")),Object(i.b)("h3",{id:"scenario-one--based-on-selected-fields"},"Scenario One || Based on Selected Fields"),Object(i.b)("p",null,Object(i.b)("inlineCode",{parentName:"p"},"Payload")),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-JSON"},'{\n  "organisationUnit":"XJpzOmbg7LuL6",\n  "form": "iJUMeqloMjmDq",\n  "recordValues": [\n      {"id": "jJBwwcYa1kBzQ"},\n      {"id": "fEbTGVMKVLUTU"},\n      {"id": "nlG8zObKlkMcx"}\n      ],\n  "remove":["yxd7nZx3dExX9","ephzmm10i8Olc"]\n}\n')),Object(i.b)("blockquote",null,Object(i.b)("p",{parentName:"blockquote"},"Where organisationUnit represents and form represents the parameters of the new record to create ",Object(i.b)("inlineCode",{parentName:"p"},"recordValues")," represents an array of all recordvalue ids for all fields to create a new record and ",Object(i.b)("inlineCode",{parentName:"p"},"remove")," represents an array of record ids to delete")))}s.isMDXComponent=!0}}]);
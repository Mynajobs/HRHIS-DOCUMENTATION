"use strict";(self.webpackChunkhris_api_docs=self.webpackChunkhris_api_docs||[]).push([[888],{3905:function(e,n,t){t.d(n,{Zo:function(){return s},kt:function(){return m}});var r=t(7294);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function o(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var d=r.createContext({}),c=function(e){var n=r.useContext(d),t=n;return e&&(t="function"==typeof e?e(n):l(l({},n),e)),t},s=function(e){var n=c(e.components);return r.createElement(d.Provider,{value:n},e.children)},p={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},u=r.forwardRef((function(e,n){var t=e.components,a=e.mdxType,i=e.originalType,d=e.parentName,s=o(e,["components","mdxType","originalType","parentName"]),u=c(t),m=a,f=u["".concat(d,".").concat(m)]||u[m]||p[m]||i;return t?r.createElement(f,l(l({ref:n},s),{},{components:t})):r.createElement(f,l({ref:n},s))}));function m(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var i=t.length,l=new Array(i);l[0]=u;var o={};for(var d in n)hasOwnProperty.call(n,d)&&(o[d]=n[d]);o.originalType=e,o.mdxType="string"==typeof e?e:a,l[1]=o;for(var c=2;c<i;c++)l[c]=t[c];return r.createElement.apply(null,l)}return r.createElement.apply(null,t)}u.displayName="MDXCreateElement"},5893:function(e,n,t){t.r(n),t.d(n,{frontMatter:function(){return o},contentTitle:function(){return d},metadata:function(){return c},toc:function(){return s},default:function(){return u}});var r=t(7462),a=t(3366),i=(t(7294),t(3905)),l=["components"],o={id:"records",title:"Records Module",sidebar_label:"Records"},d=void 0,c={unversionedId:"developers/data/records",id:"developers/data/records",isDocsHomePage:!1,title:"Records Module",description:"Record Modules",source:"@site/docs/developers/data/employment.md",sourceDirName:"developers/data",slug:"/developers/data/records",permalink:"/hris-api-docs/docs/developers/data/records",editUrl:"https://github.com/udsm-dhis2-project/hris-api-docs/blob/main/docs/developers/data/employment.md",tags:[],version:"current",frontMatter:{id:"records",title:"Records Module",sidebar_label:"Records"}},s=[{value:"Record Modules",id:"record-modules",children:[],level:2},{value:"Introduction",id:"introduction",children:[],level:2},{value:"Fetching",id:"fetching",children:[],level:2},{value:"Fetching listing records",id:"fetching-listing-records",children:[],level:2}],p={toc:s};function u(e){var n=e.components,t=(0,a.Z)(e,l);return(0,i.kt)("wrapper",(0,r.Z)({},p,t,{components:n,mdxType:"MDXLayout"}),(0,i.kt)("h2",{id:"record-modules"},"Record Modules"),(0,i.kt)("p",null,"In HRHIS there are three modules that mainly hold different types of records i.e. Employment records, Council records and Education Records."),(0,i.kt)("h2",{id:"introduction"},"Introduction"),(0,i.kt)("p",null,"What is record API?"),(0,i.kt)("p",null,"A record API is the messenger that delivers a request to the provider from which it is being requested and then delivers the response (records) back."),(0,i.kt)("p",null,"What it generally offer"),(0,i.kt)("p",null,"A record API contains HTTP status code and data returned."),(0,i.kt)("h2",{id:"fetching"},"Fetching"),(0,i.kt)("p",null,"Aggregate records Fetching data in record modules follow similar sequence of actions as described below."),(0,i.kt)("h2",{id:"fetching-listing-records"},"Fetching listing records"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"Method:")),(0,i.kt)("p",null,"GET"),(0,i.kt)("p",null,"A default endpoint for fetching"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"api/analytics/records/KwTlfYKlSCcEd?pageSize=50&page=1&ouMode=DESCENDANTS&listing=true")),(0,i.kt)("p",null,"Where ",(0,i.kt)("inlineCode",{parentName:"p"},"KwTlfYKlSCcEd")," is the form id"),(0,i.kt)("p",null,"By default the page size is 50, but you can change the page size by setting the page size property to any number you wish."),(0,i.kt)("p",null,"You can also get all records for viewing without pagination by simply setting paging = 'false'."),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,i.kt)("th",{parentName:"tr",align:null},"Description"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Notes"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"PageSize"),(0,i.kt)("td",{parentName:"tr",align:null},"Number of item per page"),(0,i.kt)("td",{parentName:"tr",align:null},"number"),(0,i.kt)("td",{parentName:"tr",align:null},"by default it is 50")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Page"),(0,i.kt)("td",{parentName:"tr",align:null},"Page number (offset)"),(0,i.kt)("td",{parentName:"tr",align:null},"number"),(0,i.kt)("td",{parentName:"tr",align:null})),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Paging"),(0,i.kt)("td",{parentName:"tr",align:null},"specifies whether to use paging or not"),(0,i.kt)("td",{parentName:"tr",align:null}),(0,i.kt)("td",{parentName:"tr",align:null},"when false (all records)are returned as response")))),(0,i.kt)("p",null,"Sample Data payload."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-JSON"},'{\n"pager": {\n"page": 1,\n"pageSize": 50,\n"pageCount": 50,\n"total": 1998,\n"nextPage": "/api/analytics/records/KwTlfYKlSCcEd?page=2"\n},\n"records": [\n{\n"id": "q8dD4haVRtX9p",\n"created": "2021-09-20T06:09:18.000Z",\n"lastupdated": "2021-09-20T06:09:18.000Z",\n"ou": {\n"id": "Va5XqGVTyyZuK",\n"created": "2021-05-14T18:36:40.000Z",\n"lastUpdated": "2021-07-01T07:00:59.000Z",\n"code": "15005214030201",\n"name": "Kilosa Clinical Officers Training Centre",\n"description": "Kilosa Clinical Officers Training Centre Full Accreditation",\n"shortName": "Kilosa Cli",\n"address": "Kilosa District Council",\n"level": 4,\n"path": "/52893cd1b8359/52f0a11563b5e/cRHIYtAEi2biB/Va5XqGVTyyZuK",\n"ancestors": [\n{\n"id": "52893cd1b8359",\n"created": "2013-11-17T19:01:53.000Z",\n"lastUpdated": "2017-11-07T10:01:47.000Z",\n"code": "MOHCDGEC",\n"name": "Ministry Of Health",\n"description": "Ministry of Health and Social welfare",\n"shortName": "MOHCDGEC",\n"active": true,\n"level": 1,\n"path": "/52893cd1b8359"\n},\n{\n"id": "Va5XqGVTyyZuK",\n"created": "2021-05-14T18:36:40.000Z",\n"lastUpdated": "2021-07-01T07:00:59.000Z",\n"code": "15005214030201",\n"name": "Kilosa Clinical Officers Training Centre",\n"description": "Kilosa Clinical Officers Training Centre Full Accreditation",\n"shortName": "Kilosa Cli",\n"address": "Kilosa District Council",\n"level": 4,\n"path": "/52893cd1b8359/52f0a11563b5e/cRHIYtAEi2biB/Va5XqGVTyyZuK"\n},\n{\n"id": "52f0a11563b5e",\n"created": "2014-02-04T08:13:09.000Z",\n"lastUpdated": "2014-02-04T08:13:09.000Z",\n"code": "HTI",\n"name": "Health Training Institutions",\n"shortName": "Institutions",\n"active": true,\n"level": 2,\n"path": "/52893cd1b8359/52f0a11563b5e"\n},\n{\n"id": "cRHIYtAEi2biB",\n"created": "2021-07-01T08:24:55.000Z",\n"lastUpdated": "2021-07-01T05:24:55.000Z",\n"code": "NACTE",\n"name": "NACTE",\n"shortName": "NACTE",\n"active": true,\n"level": 3,\n"path": "/52893cd1b8359/52f0a11563b5e/cRHIYtAEi2biB"\n}\n],\n"descendants": [\n{\n"id": "Va5XqGVTyyZuK",\n"created": "2021-05-14T18:36:40.000Z",\n"lastUpdated": "2021-07-01T07:00:59.000Z",\n"code": "15005214030201",\n"name": "Kilosa Clinical Officers Training Centre",\n"description": "Kilosa Clinical Officers Training Centre Full Accreditation",\n"shortName": "Kilosa Cli",\n"address": "Kilosa District Council",\n"level": 4,\n"path": "/52893cd1b8359/52f0a11563b5e/cRHIYtAEi2biB/Va5XqGVTyyZuK"\n}\n]\n},\n"parent": "pbD8mdbEY8lLT",\n"station": "Kilosa Clinical Officers Training Centre",\n"kInc8cekSNpwc": "Fulltime",\n"EsrSdikGMrlWv": "Ordinary Diploma in Clinical Medicine",\n"WO3Rt4x054iD7": "2018/2019",\n"vTa3ayf4bYraE": "NTA6",\n"QRcUUrnDc7Xop": "private",\n"qcK7xGSb21lCk": "Enrolled",\n"rRbXqbINSF3Ho": "NACTE",\n"bikuM9BsBDwJO": "NACTE",\n"5289e934ab062": "Ezekiel",\n"5289e934b2b33": "Bob",\n"5289e934b84c3": "CMT5/KLS/16/09",\n"5289e934bde20": "Male",\n"5289e934c02a1": "Ezekiel",\n"OeASFS19CV9tO": "NACTE"\n},\n{\n"id": "U4GQ5MWMXkQQL",\n"created": "2021-09-20T06:09:18.000Z",\n"lastupdated": "2021-09-20T06:09:18.000Z",\n"ou": {\n"id": "Va5XqGVTyyZuK",\n"created": "2021-05-14T18:36:40.000Z",\n"lastUpdated": "2021-07-01T07:00:59.000Z",\n"code": "15005214030201",\n"name": "Kilosa Clinical Officers Training Centre",\n"description": "Kilosa Clinical Officers Training Centre Full Accreditation",\n"shortName": "Kilosa Cli",\n"address": "Kilosa District Council",\n"level": 4,\n"path": "/52893cd1b8359/52f0a11563b5e/cRHIYtAEi2biB/Va5XqGVTyyZuK",\n"ancestors": [\n{\n"id": "52893cd1b8359",\n"created": "2013-11-17T19:01:53.000Z",\n"lastUpdated": "2017-11-07T10:01:47.000Z",\n"code": "MOHCDGEC",\n"name": "Ministry Of Health",\n"description": "Ministry of Health and Social welfare",\n"shortName": "MOHCDGEC",\n"active": true,\n"level": 1,\n"path": "/52893cd1b8359"\n},\n')),(0,i.kt)("p",null,"The fields in the responses are described below."),(0,i.kt)("p",null,"|Parameter|Type|Default|Description|\n|PageSize|Number|50|Number of items per page|\n|page|Number|1|Page number||\n|paging|Boolean|true||Specify whether to do pagination or not"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"false"),": Fetch All record"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"true"),": Fetch record given pagination options"),(0,i.kt)("p",null,"Searching parameters\nDimension ",(0,i.kt)("inlineCode",{parentName:"p"},"<fields>"),"\nOperators ",(0,i.kt)("inlineCode",{parentName:"p"},"<eq, !eq, in, !in>")),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Operator"),(0,i.kt)("th",{parentName:"tr",align:null},"Description"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"eq"),(0,i.kt)("td",{parentName:"tr",align:null},"Fetch records where search item has EXACT MATCH for the given dimension")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"!eq"),(0,i.kt)("td",{parentName:"tr",align:null},"Fetch records where search item has NO MATCH for the given dimension")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"in"),(0,i.kt)("td",{parentName:"tr",align:null},"Fetch records with many search items where items exist IN records for the given dimension")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"!in"),(0,i.kt)("td",{parentName:"tr",align:null},"Fetch records with many search items where items do not exist IN records for the given dimension")))),(0,i.kt)("p",null,"|"),(0,i.kt)("p",null,"Fetching a single record"),(0,i.kt)("p",null,"You can also search for a single record as described below"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"Endpoint;")),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"/api/records/pbD8mdbEY8lLT?fields=id,organisationUnit[id,organisationUnitGroups],form,recordValues[field]")),(0,i.kt)("p",null,"Specify field to get the record"))}u.isMDXComponent=!0}}]);